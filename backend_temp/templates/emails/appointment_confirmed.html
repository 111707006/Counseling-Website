{% extends "emails/base_email.html" %}

{% block title %}é ç´„æ™‚é–“ç¢ºèª - å¿ƒç†è«®å•†é ç´„ç³»çµ±{% endblock %}

{% block header_title %}ğŸ¯ é ç´„æ™‚é–“å·²ç¢ºèª{% endblock %}
{% block header_subtitle %}<p style="margin: 10px 0 0 0; font-size: 16px; opacity: 0.9;">æ‚¨çš„å¿ƒç†è«®å•†æ™‚é–“å·²å®‰æ’å®Œæˆ</p>{% endblock %}

{% block greeting %}
<p>è¦ªæ„›çš„ {{ appointment.detail.name }} å…ˆç”Ÿ/å°å§ï¼Œæ‚¨å¥½ï¼š</p>
{% endblock %}

{% block content %}
<div class="alert success">
    <strong>ğŸ‰ å¥½æ¶ˆæ¯ï¼</strong><br>
    æ‚¨çš„å¿ƒç†è«®å•†é ç´„æ™‚é–“å·²ç¶“ç¢ºèªï¼Œè«‹è¨˜ä¸‹ä»¥ä¸‹è³‡è¨Šä¸¦æº–æ™‚èµ´ç´„ã€‚
</div>
{% endblock %}

{% block appointment_details %}
<div class="appointment-card" style="border-left: 4px solid #48bb78; background: linear-gradient(135deg, #f0fff4 0%, #f7fafc 100%);">
    <h3 style="margin-top: 0; color: #48bb78;">âœ… ç¢ºèªçš„é ç´„æ™‚é–“</h3>
    
    <div style="text-align: center; padding: 20px; background-color: white; border-radius: 8px; margin: 15px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <div style="font-size: 24px; font-weight: bold; color: #48bb78; margin-bottom: 10px;">
            ğŸ“… {{ confirmed_datetime|date:"Yå¹´mæœˆdæ—¥" }}
        </div>
        <div style="font-size: 32px; font-weight: bold; color: #2d3748; margin-bottom: 5px;">
            â° {{ confirmed_datetime|date:"H:i" }}
        </div>
        <div style="font-size: 14px; color: #666; background-color: #f7fafc; padding: 5px 10px; border-radius: 15px; display: inline-block;">
            {{ confirmed_datetime|date:"l" }}
        </div>
    </div>
</div>

<div class="appointment-card">
    <h3 style="margin-top: 0; color: #667eea;">é ç´„è©³ç´°è³‡è¨Š</h3>
    
    <div class="appointment-detail">
        <span class="detail-label">é ç´„ç·¨è™Ÿï¼š</span>
        <span class="detail-value"><strong style="color: #667eea;">#{{ appointment.id }}</strong></span>
    </div>
    
    <div class="appointment-detail">
        <span class="detail-label">å¿ƒç†å¸«ï¼š</span>
        <span class="detail-value"><strong>{{ appointment.therapist.name }}</strong></span>
    </div>
    
    {% if appointment.consultation_room %}
    <div class="appointment-detail">
        <span class="detail-label">è«®å•†å®¤ï¼š</span>
        <span class="detail-value">ğŸ¢ {{ appointment.get_consultation_room_display }}</span>
    </div>
    {% endif %}
    
    {% if appointment.therapist.specialization %}
    <div class="appointment-detail">
        <span class="detail-label">å°ˆæ¥­é ˜åŸŸï¼š</span>
        <span class="detail-value">{{ appointment.therapist.specialization }}</span>
    </div>
    {% endif %}
    
    <div class="appointment-detail">
        <span class="detail-label">è«®å•†åœ°é»ï¼š</span>
        <span class="detail-value">
            {% if appointment.therapist.office_location %}
                {{ appointment.therapist.office_location }}
            {% else %}
                è«‹æ´½è©¢å¿ƒç†å¸«æˆ–ç®¡ç†å“¡
            {% endif %}
        </span>
    </div>
    
    <div class="appointment-detail">
        <span class="detail-label">è¯çµ¡é›»è©±ï¼š</span>
        <span class="detail-value">{{ appointment.detail.phone }}</span>
    </div>
    
    <div class="appointment-detail">
        <span class="detail-label">ç¢ºèªæ™‚é–“ï¼š</span>
        <span class="detail-value">{{ appointment.confirmed_at|date:"Yå¹´mæœˆdæ—¥ H:i" }}</span>
    </div>
    
    <div class="appointment-detail">
        <span class="detail-label">é ç´„ç‹€æ…‹ï¼š</span>
        <span class="detail-value">
            <span style="background-color: #c6f6d5; color: #22543d; padding: 4px 12px; border-radius: 15px; font-size: 12px;">
                âœ… å·²ç¢ºèª
            </span>
        </span>
    </div>
</div>
{% endblock %}

{% block actions %}
<div style="text-align: center; margin: 30px 0;">
    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <div style="font-size: 18px; font-weight: bold; margin-bottom: 10px;">ğŸ“ é‡è¦è³‡è¨Š</div>
        <div>è«‹åœ¨é ç´„æ™‚é–“å‰ 10 åˆ†é˜åˆ°é”ï¼Œä¸¦æ”œå¸¶èº«åˆ†è­‰æ˜æ–‡ä»¶</div>
    </div>
</div>
{% endblock %}

{% block additional_info %}
<div class="divider"></div>

<div style="display: flex; gap: 20px; margin: 20px 0;">
    <div style="flex: 1; background-color: #f8f9fa; padding: 20px; border-radius: 6px;">
        <h4 style="margin-top: 0; color: #667eea;">ğŸ“‹ èµ´ç´„æº–å‚™</h4>
        <ul style="margin: 10px 0; padding-left: 20px; color: #555; line-height: 1.6;">
            <li>æ”œå¸¶èº«åˆ†è­‰æ˜æ–‡ä»¶</li>
            <li>æå‰ 10 åˆ†é˜åˆ°é”</li>
            <li>ä¿æŒæ‰‹æ©Ÿæš¢é€š</li>
            <li>ç©¿è‘—èˆ’é©æœè£</li>
        </ul>
    </div>
    <div style="flex: 1; background-color: #f8f9fa; padding: 20px; border-radius: 6px;">
        <h4 style="margin-top: 0; color: #667eea;">ğŸ“ ç·Šæ€¥è¯çµ¡</h4>
        <p style="color: #555; line-height: 1.6;">
            å¦‚æœ‰ç·Šæ€¥ç‹€æ³éœ€è¦èª¿æ•´æ™‚é–“ï¼š<br>
            ğŸ“§ <a href="mailto:tpeap01@cyc.tw" style="color: #667eea;">tpeap01@cyc.tw</a><br>
            ğŸ“± è«‹æ’¥æ‰“é ç´„å°ˆç·š
        </p>
    </div>
</div>

<div class="alert info">
    <strong>ğŸ’¡ é¦–æ¬¡è«®å•†æé†’</strong><br>
    <div style="margin-top: 10px; line-height: 1.6;">
        â€¢ åˆæ¬¡æœƒè«‡æœƒäº†è§£æ‚¨çš„ç‹€æ³å’Œéœ€æ±‚ï¼Œè«‹æ”¾é¬†å¿ƒæƒ…<br>
        â€¢ å¦‚æœ‰ç‰¹æ®Šéœ€æ±‚æˆ–é¡§æ…®ï¼Œå¯éš¨æ™‚èˆ‡å¿ƒç†å¸«è¨è«–<br>
        â€¢ æ‰€æœ‰å°è©±å…§å®¹éƒ½æœƒåš´æ ¼ä¿å¯†
    </div>
</div>

<div class="alert warning">
    <strong>âš ï¸ å–æ¶ˆ/æ”¹æœŸæ”¿ç­–</strong><br>
    å¦‚éœ€å–æ¶ˆæˆ–æ”¹æœŸï¼Œè«‹è‡³å°‘æå‰ <strong>24 å°æ™‚</strong> é€šçŸ¥ï¼Œä»¥å…å½±éŸ¿å…¶ä»–ä¾†è«‡è€…çš„æ¬Šç›Šã€‚<br>
    å–æ¶ˆé ç´„è«‹å›è¦†æ­¤éƒµä»¶æˆ–æ’¥æ‰“é ç´„å°ˆç·šã€‚
</div>

<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 8px; margin: 30px 0; text-align: center;">
    <h3 style="margin: 0 0 15px 0;">ğŸŒŸ æœŸå¾…èˆ‡æ‚¨è¦‹é¢</h3>
    <p style="margin: 0; font-size: 16px; opacity: 0.9;">
        æ„Ÿè¬æ‚¨å°æˆ‘å€‘çš„ä¿¡ä»»ï¼Œæˆ‘å€‘è‡´åŠ›æ–¼æä¾›å°ˆæ¥­ã€æº«æš–çš„å¿ƒç†è«®å•†æœå‹™ã€‚<br>
        è®“æˆ‘å€‘ä¸€èµ·ç‚ºæ‚¨çš„å¿ƒç†å¥åº·åŠªåŠ›ï¼
    </p>
</div>
{% endblock %}

{% block footer %}
<p>ç¥æ‚¨èº«å¿ƒå¥åº·ï¼ŒæœŸå¾…èˆ‡æ‚¨è¦‹é¢ã€‚</p>
<div class="footer-links">
    <a href="mailto:tpeap01@cyc.tw">è¯çµ¡æˆ‘å€‘</a>
    <a href="#">é ç´„æŸ¥è©¢</a>
    <a href="#">æœå‹™èªªæ˜</a>
    <a href="#">å¸¸è¦‹å•é¡Œ</a>
</div>
<p>&copy; 2025 å¿ƒç†è«®å•†é ç´„ç³»çµ±. ä¿ç•™æ‰€æœ‰æ¬Šåˆ©ã€‚</p>
{% endblock %}