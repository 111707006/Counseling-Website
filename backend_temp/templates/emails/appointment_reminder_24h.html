{% extends "emails/base_email.html" %}

{% block title %}預約提醒 - 心理諮商預約系統{% endblock %}

{% block header_title %}⏰ 預約提醒{% endblock %}
{% block header_subtitle %}<p style="margin: 10px 0 0 0; font-size: 16px; opacity: 0.9;">您的諮商時間即將到來，請記得準時赴約</p>{% endblock %}

{% block greeting %}
<p>親愛的 {{ appointment.detail.name }} 先生/小姐，您好：</p>
{% endblock %}

{% block content %}
<div class="alert info">
    <strong>📅 溫馨提醒</strong><br>
    您的心理諮商預約時間將在明天進行，請確認您的行程安排。
</div>
{% endblock %}

{% block appointment_details %}
<div class="appointment-card" style="border-left: 4px solid #4299e1; background: linear-gradient(135deg, #ebf8ff 0%, #f7fafc 100%);">
    <h3 style="margin-top: 0; color: #4299e1;">📋 您的預約資訊</h3>
    
    <div style="text-align: center; padding: 25px; background-color: white; border-radius: 8px; margin: 15px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <div style="font-size: 28px; font-weight: bold; color: #4299e1; margin-bottom: 10px;">
            📅 {{ appointment.slot.slot_time|date:"Y年m月d日" }}
        </div>
        <div style="font-size: 36px; font-weight: bold; color: #2d3748; margin-bottom: 10px;">
            ⏰ {{ appointment.slot.slot_time|date:"H:i" }}
        </div>
        <div style="font-size: 14px; color: #666; background-color: #f7fafc; padding: 8px 15px; border-radius: 20px; display: inline-block;">
            明天 {{ appointment.slot.slot_time|date:"l" }}
        </div>
    </div>
    
    <div class="appointment-detail">
        <span class="detail-label">預約編號：</span>
        <span class="detail-value"><strong style="color: #4299e1;">#{{ appointment.id }}</strong></span>
    </div>
    
    <div class="appointment-detail">
        <span class="detail-label">心理師：</span>
        <span class="detail-value"><strong>{{ appointment.therapist.name }}</strong></span>
    </div>
    
    {% if appointment.therapist.specialization %}
    <div class="appointment-detail">
        <span class="detail-label">專業領域：</span>
        <span class="detail-value">{{ appointment.therapist.specialization }}</span>
    </div>
    {% endif %}
    
    <div class="appointment-detail">
        <span class="detail-label">諮商方式：</span>
        <span class="detail-value">
            {% if appointment.consultation_type == 'online' %}
                🖥️ 線上諮商
            {% else %}
                🏢 實體諮商
            {% endif %}
        </span>
    </div>
    
    {% if appointment.therapist.office_location and appointment.consultation_type == 'offline' %}
    <div class="appointment-detail">
        <span class="detail-label">諮商地點：</span>
        <span class="detail-value">📍 {{ appointment.therapist.office_location }}</span>
    </div>
    {% endif %}
</div>
{% endblock %}

{% block additional_info %}
<div style="display: flex; gap: 20px; margin: 30px 0;">
    <div style="flex: 1; background-color: #f0fff4; padding: 20px; border-radius: 8px; border: 1px solid #9ae6b4;">
        <h4 style="margin-top: 0; color: #22543d;">✅ 明天請記得</h4>
        <ul style="margin: 10px 0; padding-left: 20px; color: #22543d; line-height: 1.8;">
            <li>提前10-15分鐘到達</li>
            <li>攜帶身分證明文件</li>
            <li>保持手機暢通</li>
            <li>穿著舒適的服裝</li>
            {% if appointment.consultation_type == 'online' %}
            <li>檢查網路連線狀況</li>
            <li>準備安靜的環境</li>
            {% endif %}
        </ul>
    </div>
    <div style="flex: 1; background-color: #fffbeb; padding: 20px; border-radius: 8px; border: 1px solid #f6e05e;">
        <h4 style="margin-top: 0; color: #744210;">💡 諮商小貼士</h4>
        <p style="color: #744210; line-height: 1.6; margin: 0;">
            <strong>放鬆心情：</strong>諮商是一個安全的空間，您可以自在地表達想法和感受。<br><br>
            <strong>準備話題：</strong>如果有特定想討論的事情，可以事先思考一下。
        </p>
    </div>
</div>

<div class="alert warning">
    <strong>⚠️ 需要調整時間？</strong><br>
    如果明天有突發狀況無法參加，請盡快聯繫我們：<br>
    📧 <a href="mailto:tpeap01@cyc.tw" style="color: #744210; text-decoration: none;"><strong>tpeap01@cyc.tw</strong></a><br>
    🕐 請至少提前 <strong>2 小時</strong> 通知，以便我們為其他來談者安排時段
</div>

<div style="background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%); color: white; padding: 25px; border-radius: 8px; margin: 30px 0; text-align: center;">
    <h3 style="margin: 0 0 15px 0;">🤝 期待明天與您見面</h3>
    <p style="margin: 0; font-size: 16px; opacity: 0.9;">
        感謝您選擇我們的心理諮商服務。<br>
        {{ appointment.therapist.name }} 心理師已經為明天的會談做好準備！
    </p>
</div>
{% endblock %}

{% block footer %}
<p>如有任何疑問，歡迎隨時與我們聯繫。</p>
<div class="footer-links">
    <a href="mailto:tpeap01@cyc.tw">聯絡我們</a>
    <a href="#">預約查詢</a>
    <a href="#">常見問題</a>
</div>
<p>&copy; 2025 心理諮商預約系統. 保留所有權利。</p>
{% endblock %}